<!DOCTYPE html>
<html lang="es" class="scroll-smooth">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <link rel="icon" href="imagenes/logo_blanco.webp" type="image/png">
  <title>Hoteles | Maki Catta</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Alegreya:wght@400;700&amp;family=Exo+2:wght@500;700&amp;family=Dosis:wght@400;600&amp;family=Material+Icons+Outlined&amp;family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&amp;display=swap"
    rel="stylesheet">

  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>

  <script src="js/tailwind.config.js"></script>

  <style>
    .video-container {
      position: relative;
      height: 100vh;
      width: 100%;
      overflow: hidden;
      background-color: #3E2723;
      background-image: url('imagenes/hotel_foto.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    .video-container::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2;
    }

    .header-dynamic {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 100;
    }

    .header-scrolled {
      background-color: rgba(255, 255, 255, 0.95) !important;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .dark .header-scrolled {
      background-color: rgba(26, 22, 20, 0.95) !important;
    }
  </style>
  <link rel="stylesheet" href="css/header.css">
</head>

<body
  class="bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-200 font-body transition-colors duration-300">

  <header id="main-header" class="fixed w-full z-50 transition-all duration-300 bg-transparent py-4 font-button">
    <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 items-center">
        <div class="flex-shrink-0">
          <a href="index.html">
            <img id="logo-light" src="imagenes/logo_blanco.webp" alt="Logo" width="160" height="64" fetchpriority="high"
              class="h-16 w-auto object-contain">
            <img id="logo-dark" src="imagenes/logo.webp" alt="Logo" width="160" height="64"
              class="hidden h-16 w-auto object-contain">
          </a>
        </div>

        <div class="hidden md:flex space-x-6 items-center">
          <a class="nav-link text-white hover:text-accent font-medium transition" href="index.html">Inicio</a>
          <a class="nav-link text-white/90 hover:text-accent font-medium transition"
            href="destinos.html">Destinos</a>
          <a class="nav-link text-accent font-medium transition border-b-2 border-accent"
            href="hoteles_menu.html">Hoteles</a>
          <a class="nav-link text-white/90 hover:text-accent font-medium transition"
            href="restaurantes.html">Restaurantes</a>
          <a class="nav-link text-white/90 hover:text-accent font-medium transition" href="nosotros.html">Sobre
            Nosotros</a>

          <button id="theme-toggle"
            class="p-2 rounded-full text-white/90 hover:bg-white/10 transition-colors focus:outline-none"
            aria-label="Cambiar tema">
            <span id="theme-icon" class="material-symbols-outlined">light_mode</span>
          </button>

          <a id="contact-btn"
            class="px-5 py-2 rounded-full bg-white text-primary hover:bg-accent transition font-bold text-sm shadow-sm"
            href="contacto.html">
            Contáctenos
          </a>
        </div>

        <div class="md:hidden flex items-center gap-4">
          <button id="theme-toggle-mobile" class="p-2 rounded-full text-white/90 transition-colors">
            <span class="theme-icon-mobile material-symbols-outlined">light_mode</span>
          </button>
          <button id="mobile-menu-button" class="text-white focus:outline-none transition-transform active:scale-90"
            aria-label="Menu">
            <span id="menu-icon" class="material-icons-outlined text-4xl">menu</span>
          </button>
        </div>
      </div>
    </nav>

    <div id="mobile-menu"
      class="hidden absolute top-0 left-0 w-full h-screen bg-card-light/95 dark:bg-card-dark/95 backdrop-blur-xl z-[-1] flex-col items-center justify-center gap-6 p-8 transition-all duration-300 border-b border-primary/10">
      <a class="mobile-nav-link text-primary dark:text-white text-3xl font-display font-bold"
        href="index.html">Inicio</a>
      <a class="mobile-nav-link text-primary dark:text-white text-3xl font-display font-bold"
        href="destinos.html">Destinos</a>
      <a class="mobile-nav-link text-accent text-3xl font-display font-bold" href="hoteles_menu.html">Hoteles</a>
      <a class="mobile-nav-link text-primary dark:text-white text-3xl font-display font-bold"
        href="restaurantes.html">Restaurantes</a>
      <a class="mobile-nav-link text-primary dark:text-white text-3xl font-display font-bold" href="nosotros.html">Sobre
        Nosotros</a>
      <a class="mt-4 px-10 py-4 rounded-full bg-primary text-white font-button font-bold text-xl shadow-xl active:scale-95 transition-transform"
        href="contacto.html">
        Contáctenos
      </a>
    </div>
  </header>

  <section class="video-container flex items-center justify-center">
    <div class="relative z-10 text-center px-4">
      <h1 class="text-6xl md:text-8xl font-display font-bold text-white mb-4 drop-shadow-lg">
        Nuestros <span class="text-accent">Hoteles</span>
      </h1>
      <p class="text-xl md:text-2xl text-gray-200 font-body max-w-2xl mx-auto drop-shadow-md">
        Selección exclusiva de los mejores alojamientos en Madagascar.
      </p>
      <div class="absolute bottom-[-150px] left-1/2 transform -translate-x-1/2 animate-bounce">
        <span class="material-icons-outlined text-white text-4xl opacity-80" aria-hidden="true">expand_more</span>
      </div>
    </div>
  </section>

  <main class="min-h-screen flex items-center bg-background-light dark:bg-background-dark">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full py-20">
      <div id="hotels-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      </div>
    </div>
  </main>

  <footer class="bg-footer-custom text-gray-400 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-12 gap-12 mb-12 text-center md:text-left">
        <div class="md:col-span-5 flex flex-col items-center md:items-start">
          <div class="mb-6">
            <img src="imagenes/logo_footer.webp" alt="Logo" width="120" height="48" class="h-12 w-auto object-contain"
              loading="lazy">
          </div>
          <p class="text-sm font-body max-w-sm text-white/90">
            Explorando el mundo, un destino a la vez. Tu socio de confianza para viajes inolvidables.
          </p>
        </div>

        <div class="md:col-span-7 grid grid-cols-1 sm:grid-cols-3 gap-8">
          <div class="font-button">
            <h4 class="text-white font-bold mb-4 uppercase text-xs tracking-wider">Enlaces</h4>
            <ul class="space-y-2 text-sm">
              <li><a class="text-white hover:text-accent transition-colors duration-300" href="index.html">Inicio</a>
              </li>
              <li><a class="text-white hover:text-accent transition-colors duration-300"
                  href="destinos.html">Destinos</a></li>
              <li><a class="text-white hover:text-accent transition-colors duration-300"
                  href="hoteles_menu.html">Hoteles</a></li>
              <li><a class="text-white hover:text-accent transition-colors duration-300"
                  href="restaurantes.html">Restaurantes</a></li>
              <li><a class="text-white hover:text-accent transition-colors duration-300" href="nosotros.html">Sobre
                  Nosotros</a></li>
              <li><a class="text-white hover:text-accent transition-colors duration-300"
                  href="contacto.html">Contáctenos</a></li>
            </ul>
          </div>

          <div class="font-button">
            <h4 class="text-white font-bold mb-4 uppercase text-xs tracking-wider">Legales</h4>
            <ul class="space-y-2 text-sm">
              <li><a class="text-white hover:text-accent transition-colors duration-300"
                  href="politicas_privacidad.html">Políticas de Privacidad</a></li>
              <li><a class="text-white hover:text-accent transition-colors duration-300"
                  href="TerminosUso.html">Términos y Usos</a></li>
            </ul>
          </div>

          <div class="font-button">
            <h4 class="text-white font-bold mb-4 uppercase text-xs tracking-wider">Recursos</h4>
            <ul class="space-y-2 text-sm">
              <li><a class="text-white hover:text-accent transition-colors duration-300" href="https://ui-avatars.com/"
                  target="_blank">UI Avatars</a></li>
              <li><a class="text-white hover:text-accent transition-colors duration-300"
                  href="https://fonts.google.com/icons" target="_blank">Google Icons</a></li>
              <li><a class="text-white hover:text-accent transition-colors duration-300" href="https://supabase.com/"
                  target="_blank">Supabase DB</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="border-t border-gray-800 pt-8 text-center text-xs font-body">
        <p class="text-white font-medium">© 2025 Maki Catta Turismo. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <script src="js/datos_hoteles.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // --- LOGICA DE CARGA DE HOTELES ---
      const container = document.getElementById('hotels-grid');
      if (container && typeof dbHoteles !== 'undefined') {
        dbHoteles.forEach(hotel => {
          const card = document.createElement('div');
          card.className = "bg-white dark:bg-card-dark rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 group flex flex-col";
          card.innerHTML = `
                        <div class="relative h-64 overflow-hidden">
                            <img src="${hotel.img}" alt="${hotel.nombre}" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700">
                            <div class="absolute top-4 right-4 bg-white/90 dark:bg-black/80 px-3 py-1 rounded-full text-xs font-bold text-primary dark:text-accent shadow">
                                ${hotel.precio}
                            </div>
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <div class="flex items-center gap-1 text-secondary text-sm mb-2">
                                <span class="material-icons-outlined text-sm">location_on</span> ${hotel.ubicacion}
                            </div>
                            <h3 class="text-2xl font-bold font-display text-primary dark:text-white mb-3">${hotel.nombre}</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-6 flex-grow line-clamp-3">${hotel.descripcion_corta}</p>
                            <a href="hotel_detalle.html?id=${hotel.id}" 
                               class="w-full text-center py-3 rounded-lg border-2 border-primary text-primary dark:border-accent dark:text-accent font-bold hover:bg-primary hover:text-white dark:hover:bg-accent dark:hover:text-primary transition-colors uppercase text-sm tracking-wider">
                               Ver Detalles
                            </a>
                        </div>
                    `;
          container.appendChild(card);
        });
      }

      const header = document.getElementById('main-header');
      const mobileBtn = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');
      const menuIcon = document.getElementById('menu-icon');
      const logoLight = document.getElementById('logo-light');
      const logoDark = document.getElementById('logo-dark');
      const navLinks = document.querySelectorAll('.nav-link');
      const contactBtn = document.getElementById('contact-btn');

      const themeToggle = document.getElementById('theme-toggle');
      const themeToggleMobile = document.getElementById('theme-toggle-mobile');
      const htmlElement = document.documentElement;

      function updateThemeUI() {
        const isDark = htmlElement.classList.contains('dark');
        const iconName = isDark ? 'light_mode' : 'dark_mode';

        const desktopIcon = document.getElementById('theme-icon');
        const mobileIcon = document.querySelector('.theme-icon-mobile');

        [desktopIcon, mobileIcon].forEach(icon => {
          if (icon) {
            icon.classList.add('theme-icon-animate', 'icon-rotate');
            setTimeout(() => {
              icon.textContent = iconName;
              icon.classList.remove('icon-rotate');
            }, 250);
          }
        });
      }

      function toggleDarkMode() {
        htmlElement.classList.toggle('dark');
        const isDark = htmlElement.classList.contains('dark');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        updateThemeUI();
        updateHeaderStyles();
      }

      if (themeToggle) themeToggle.addEventListener('click', toggleDarkMode);
      if (themeToggleMobile) themeToggleMobile.addEventListener('click', toggleDarkMode);

      if (localStorage.getItem('theme') === 'dark' ||
        (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        htmlElement.classList.add('dark');
      }
      updateThemeUI();

      function updateHeaderStyles() {
        window.requestAnimationFrame(() => {
          const isScrolled = window.scrollY > 50;
          const isMenuOpen = mobileMenu?.classList.contains('flex');
          const isDark = htmlElement.classList.contains('dark');

          header.classList.add('transition-all', 'duration-500');

          // --- 1. LÓGICA DE LOGO: BLANCO FIJO EN DARK MODE ---
          if (isDark) {
            logoLight?.classList.remove('hidden');
            logoDark?.classList.add('hidden');
          } else {
            if (isScrolled || isMenuOpen) {
              logoLight?.classList.add('hidden');
              logoDark?.classList.remove('hidden');
            } else {
              logoLight?.classList.remove('hidden');
              logoDark?.classList.add('hidden');
            }
          }

          // --- 2. FONDO DEL HEADER Y LINKS ---
          if (isScrolled || isMenuOpen) {
            header.classList.add('bg-white/95', 'dark:bg-slate-900/95', 'backdrop-blur-md', 'shadow-md', 'py-2');
            header.classList.remove('bg-transparent', 'py-4');

            navLinks.forEach(link => {
              link.classList.remove('text-white');
              link.classList.add('text-slate-700', 'dark:text-gray-200');
            });

            if (contactBtn) {
              contactBtn.classList.remove('bg-white', 'text-primary');
              contactBtn.classList.add('bg-primary', 'text-white');
            }

            // --- 3. LÓGICA DE ICONOS (MÁXIMA PRIORIDAD AL COLOR OSCURO) ---
            [themeToggle, themeToggleMobile, mobileBtn].forEach(el => {
              if (el) {
                if (isDark) {
                  // En modo oscuro siempre blanco
                  el.classList.add('text-white');
                  el.classList.remove('text-slate-950', 'text-gray-800');
                } else {
                  // CORRECCIÓN FINAL MODO CLARO + SCROLL: Forzamos color oscuro nítido
                  el.classList.remove('text-white');
                  el.classList.add('text-slate-950'); // Color negro Slate muy oscuro
                }
              }
            });

          } else {
            // ESTADO INICIAL / TRANSPARENTE
            header.classList.add('bg-transparent', 'py-4');
            header.classList.remove('bg-white/95', 'dark:bg-slate-900/95', 'backdrop-blur-md', 'shadow-md', 'py-2');

            navLinks.forEach(link => {
              link.classList.add('text-white');
              link.classList.remove('text-slate-700', 'dark:text-gray-200');
            });

            if (contactBtn) {
              contactBtn.classList.remove('bg-primary', 'text-white');
              contactBtn.classList.add('bg-white', 'text-primary');
            }

            // Todos los iconos blancos sobre fondo transparente (hero image)
            [themeToggle, themeToggleMobile, mobileBtn].forEach(el => {
              if (el) {
                el.classList.add('text-white');
                el.classList.remove('text-slate-950');
              }
            });
          }
        });
      }

      if (mobileBtn && mobileMenu) {
        mobileBtn.addEventListener('click', () => {
          const isOpening = mobileMenu.classList.contains('hidden');
          if (isOpening) {
            mobileMenu.classList.replace('hidden', 'flex');
            menuIcon.textContent = 'close';
            document.body.style.overflow = 'hidden';
          } else {
            mobileMenu.classList.replace('flex', 'hidden');
            menuIcon.textContent = 'menu';
            document.body.style.overflow = '';
          }
          updateHeaderStyles();
        });
      }

      window.addEventListener('scroll', updateHeaderStyles, { passive: true });
      updateHeaderStyles();
    });
  </script>
</body>

</html>